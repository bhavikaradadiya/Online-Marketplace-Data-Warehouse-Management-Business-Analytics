/* ---------------------------------------------------------
   TRIGGER: PREVENT RATING ABOVE 5
------------------------------------------------------------*/

DELIMITER $$

CREATE TRIGGER check_rating_before_insert
BEFORE INSERT ON review
FOR EACH ROW
BEGIN
    IF NEW.Rating > 5 THEN
        SIGNAL SQLSTATE '45000'
        SET MESSAGE_TEXT = 'Rating cannot exceed 5.0';
    END IF;
END $$

DELIMITER ;

